{%- assign collection = collections[section.settings.collection] -%}
{%- assign bgColor = section.settings.collection_bg_color -%}

<section
class="horizontal-sale-section"
style="
  background: url('{{ collection.image | img_url: '1200x' }}');
  background-size: cover;
  height: 700px;
  width: 100%;
  background-position: center;
  font-family: {{ section.settings.collection_font }}
"
>
<div class="overlay"
     style=" background: {{ section.settings.collection_bg_color }};
            opacity: {{ section.settings.collection_opacity }};
            ">
  <span class="percent-number"
        style="color: {{ section.settings.percent_color }};
               opacity: {{ section.settings.percent_opacity }};
               ">
    {{ section.settings.percent }}%
  </span>
  <span class="title"
        style="color: {{ section.settings.percent_color }};
              ">
    {{ section.settings.percent_title }}
  </span>
  <a href="{{ collection.url }}">
    {{ section.settings.percent_button }}
  </a>
</div>
</section>

{% schema %}
{
  "name": "Horizontal Sale",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection On Sale",
      "info": "choose a collection That is on Sale"
    },
    {
      "type": "text",
      "id": "percent",
      "label": "percent value of sale",
      "default": "50"
    },
    {
      "type": "color",
      "id": "percent_color",
      "label": "Percent Color",
      "default": "rgba(250, 250, 250, 1)",
      "info": "Change The Color Of The Percent"
    },
    {
      "type":      "range",
      "id":        "percent_opacity",
      "min":       0.0,
      "max":        1.0,
      "step":       0.1,
      "unit":       "px",
      "label":     "Percent Opacity",
      "default":   0.5
    },
    {
      "type": "text",
      "id": "percent_title",
      "label": "percent value title",
      "default": "OFF SALE"
    },
    {
      "type": "text",
      "id": "percent_button",
      "label": "value in button",
      "default": "VIEW"
    },
    {
      "type": "color",
      "id": "collection_bg_color",
      "label": "Background Color",
      "default": "rgba(0, 0, 0, 1)",
      "info": "Change The Color Of The Overlay"
    },
    {
      "type": "color",
      "id": "collection_text_color",
      "label": "Text Color",
      "default": "rgba(0, 0, 0, 1)",
      "info": "Change The Color Of The Text"
    },
    {
      "type":      "range",
      "id":        "collection_opacity",
      "min":       0.0,
      "max":        1.0,
      "step":       0.1,
      "unit":       "px",
      "label":     "Overlay Opacity",
      "default":   0.5
    }
  ],
  "presets": [
    {
      "name": "Horizontal Sale",
      "category": "Collection"
    }
  ]
}
{% endschema %}
